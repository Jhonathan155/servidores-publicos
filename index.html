<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grupos WhatsApp y Discord P√∫blicos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap');
        * { font-family: 'Poppins', sans-serif; }
        .glow { text-shadow: 0 0 10px rgba(168,85,247,0.8),0 0 20px rgba(168,85,247,0.6); }
        .animate-float { animation: float 3s ease-in-out infinite; }
        @keyframes float {0%,100%{transform:translateY(0px);}50%{transform:translateY(-10px);}}
    </style>
</head>
<body class="bg-gradient-to-br from-gray-900 via-purple-900 to-black min-h-screen text-white">

<div id="app"></div>

<script>
const BIN_ID = "68f98c0143b1c97be9798a5a"; // Tu Bin ID
const API_KEY = ""; // Opcional, si tu bin requiere secret key

let state = {
    groups: []
};

// Funci√≥n para leer grupos desde JSONBin
async function loadGroups() {
    try {
        const res = await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}/latest`);
        const data = await res.json();
        state.groups = data.record.groups || [];
        render();
    } catch(e) { console.error(e); alert('Error cargando grupos'); }
}

// Funci√≥n para guardar grupos en JSONBin
async function saveGroups() {
    try {
        await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}`, {
            method: 'PUT',
            headers: {
                'Content-Type': 'application/json',
                'X-Master-Key': API_KEY
            },
            body: JSON.stringify({ groups: state.groups })
        });
    } catch(e) { console.error(e); alert('Error guardando grupo'); }
}

// Agregar un grupo nuevo
async function addGroup() {
    const name = prompt("Nombre del grupo:");
    if(!name) return;
    const link = prompt("Link del grupo (https://...):");
    if(!link) return;
    const type = prompt("Tipo: whatsapp / discord").toLowerCase();
    if(type !== 'whatsapp' && type !== 'discord') return alert("Tipo inv√°lido");
    const cat = prompt("Categor√≠a (opcional)") || "General";
    const desc = prompt("Descripci√≥n (opcional)") || "";
    const group = {
        id: Date.now(),
        name, link, type, cat, desc,
        owner: "Anon",
        date: new Date().toLocaleDateString()
    };
    state.groups.push(group);
    await saveGroups();
    render();
}

// El HTML de cada grupo
function groupCard(g) {
    const color = g.type==='whatsapp'?'green':'purple';
    return `
    <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6 hover:scale-105 transition-all shadow-2xl border-2 border-${color}-500">
        <div class="flex items-start justify-between mb-3">
            <span class="px-3 py-1 rounded-full text-xs font-bold bg-${color}-500">${g.type==='whatsapp'?'üì± WhatsApp':'üéÆ Discord'}</span>
            <span class="px-3 py-1 rounded-full text-xs bg-blue-500 font-bold">${g.cat}</span>
        </div>
        <h4 class="text-xl md:text-2xl font-black mb-3">${g.name}</h4>
        <p class="text-gray-300 text-sm mb-4">${g.desc}</p>
        <div class="flex items-center justify-between text-xs text-gray-400 mb-4 pb-4 border-b border-gray-700">
            <div><span>üë§</span> <span class="font-semibold">${g.owner}</span></div>
            <div><span>üìÖ</span> <span>${g.date}</span></div>
        </div>
        <a href="${g.link}" target="_blank" class="block w-full text-center bg-${color}-600 hover:bg-${color}-700 text-white font-black py-3 rounded-xl transition text-lg">
            üöÄ Unirse
        </a>
    </div>
    `;
}

// Render de la p√°gina
function render() {
    const whatsapp = state.groups.filter(g=>g.type==='whatsapp');
    const discord = state.groups.filter(g=>g.type==='discord');
    document.getElementById('app').innerHTML = `
        <div class="max-w-7xl mx-auto px-4 py-8">
            <div class="text-center mb-12 py-8">
                <span class="text-6xl animate-float inline-block">üëë</span>
                <h1 class="text-4xl md:text-5xl font-black mb-3 glow">Grupos WhatsApp y Discord P√∫blicos</h1>
                <p class="text-lg md:text-xl text-gray-300 mb-2">¬°Todos pueden publicar sus grupos!</p>
            </div>

            <div class="text-center mb-6">
                <button onclick="addGroup()" class="px-6 py-3 bg-green-600 rounded-xl font-bold hover:bg-green-700">‚ûï Publicar Grupo</button>
            </div>

            <div class="mb-16">
                <div class="text-center mb-8">
                    <div class="inline-flex items-center space-x-3 px-6 py-3 bg-green-600 rounded-full shadow-2xl">
                        <span class="text-3xl">üì±</span>
                        <h2 class="text-2xl md:text-3xl font-black">Grupos de WhatsApp (${whatsapp.length})</h2>
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    ${whatsapp.length===0?'<div class="col-span-full text-center py-12 bg-gray-800 rounded-2xl"><p class="text-gray-400">üîç No hay grupos todav√≠a</p></div>':whatsapp.map(g=>groupCard(g)).join('')}
                </div>
            </div>

            <div class="mb-16">
                <div class="text-center mb-8">
                    <div class="inline-flex items-center space-x-3 px-6 py-3 bg-purple-600 rounded-full shadow-2xl">
                        <span class="text-3xl">üéÆ</span>
                        <h2 class="text-2xl md:text-3xl font-black">Servidores de Discord (${discord.length})</h2>
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    ${discord.length===0?'<div class="col-span-full text-center py-12 bg-gray-800 rounded-2xl"><p class="text-gray-400">üîç No hay servidores todav√≠a</p></div>':discord.map(g=>groupCard(g)).join('')}
                </div>
            </div>
        </div>
    `;
}

loadGroups();
</script>

</body>
</html>
